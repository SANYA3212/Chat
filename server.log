üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Ollama Tools...
üåê Ollama —á–∞—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:12000
üîß –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
   üìÅ –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:
      - list_drives: –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –¥–∏—Å–∫–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ
      - create_file: —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–±—Å–æ–ª—é—Ç–Ω—ã—Ö –ø—É—Ç–µ–π)
      - read_file: —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–ª—é–±—ã–µ —Ñ–∞–π–ª—ã –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ)
      - edit_file: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (—Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–µ–π)
      - create_directory: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫
      - list_files: –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø–∞–ø–æ–∫ (—Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π)
      - delete_file: —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
   üíª –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
      - execute_command: –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
      - run_application: –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
      - get_system_info: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
      - manage_processes: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (list/kill/info)
      - network_info: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ç–∏
      - manage_services: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É–∂–±–∞–º–∏ (list/start/stop/restart/status)
      - file_operations: —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (copy/move/search/permissions)
      - find_executable: –ø–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—É—Ç—è—Ö

üí° –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω –Ω–∞ localhost:11434
‚ö†Ô∏è  –í–ù–ò–ú–ê–ù–ò–ï: AI –∏–º–µ–µ—Ç –ü–û–õ–ù–´–ô –¥–æ—Å—Ç—É–ø –∫ –≤–∞—à–µ–º—É –∫–æ–º–ø—å—é—Ç–µ—Ä—É!
üóÇÔ∏è  –ú–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —Ñ–∞–π–ª—ã, –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã, —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
üîí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —Å –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–º–∏ AI –º–æ–¥–µ–ª—è–º–∏!
 * Serving Flask app 'server'
 * Debug mode: off
[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.0.2:5000
[33mPress CTRL+C to quit[0m
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /index3.html HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /mathjax-offline/polyfill.min.js HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /js/markdown-it.min.js HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /icon/logo.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /js/main.js HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /js/highlightjs/default-light.min.css HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /icon/plus.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:03] "GET /js/highlightjs/default-dark.min.css HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/model.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/settings.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/send.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/attach-file.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /js/highlightjs/highlight.min.js HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /mathjax-offline/es5/tex-mml-chtml.js HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/tools.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/stop.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /js/titleHandler.js HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /settings HTTP/1.1" 200 -
[2025-12-25 14:38:04,269] ERROR in server: Error syncing with ollama list: [Errno 2] No such file or directory: 'ollama'
2025-12-25 14:38:04,269 - ERROR - Error syncing with ollama list: [Errno 2] No such file or directory: 'ollama'
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /installed-models HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "[36mGET /js/highlightjs/default-dark.min.css HTTP/1.1[0m" 304 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /chats HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /chats/0 HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/delete.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/edit.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "GET /icon/copy.png HTTP/1.1" 200 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "PUT /chats/0 HTTP/1.1" 200 -
[2025-12-25 14:38:04,922] WARNING in server: generate_title: Dialog context for title: User: Hello
---
Assistant:
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
2025-12-25 14:38:04,922 - WARNING - generate_title: Dialog context for title: User: Hello
---
Assistant:
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
[2025-12-25 14:38:04,922] WARNING in server: generate_title: Final prompt for title (single message to LLM): –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥:
---
User: Hello
---
Assistant:
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
---
–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –ø—Ä–∏–¥—É–º–∞—Ç—å –û–ß–ï–ù–¨ –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ—Ç 3 –¥–æ 7 —Å–ª–æ–≤) –¥–ª—è —ç—Ç–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.
–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–µ–ª—Å—è –¥–∏–∞–ª–æ–≥.
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–º–µ—Å—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –í–ù–£–¢–†–ò —Ç–µ–≥–æ–≤ <title> –∏ </title>.
–ü—Ä–∏–º–µ—Ä: <title>–ü—Ä–∏–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–¥–µ—Å—å</title>
–ù–µ –¥–æ–±–∞–≤–ª—è–π –Ω–∏–∫–∞–∫–∏—Ö —Å–≤–æ–∏—Ö –º—ã—Å–ª–µ–π, –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–Ω–µ —Ç–µ–≥–æ–≤ <title>. –¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Ç–µ–≥–∏ <title> –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö.
2025-12-25 14:38:04,922 - WARNING - generate_title: Final prompt for title (single message to LLM): –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥:
---
User: Hello
---
Assistant:
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
---
User: Hello
---
–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –ø—Ä–∏–¥—É–º–∞—Ç—å –û–ß–ï–ù–¨ –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ—Ç 3 –¥–æ 7 —Å–ª–æ–≤) –¥–ª—è —ç—Ç–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.
–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–µ–ª—Å—è –¥–∏–∞–ª–æ–≥.
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–º–µ—Å—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –í–ù–£–¢–†–ò —Ç–µ–≥–æ–≤ <title> –∏ </title>.
–ü—Ä–∏–º–µ—Ä: <title>–ü—Ä–∏–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–¥–µ—Å—å</title>
–ù–µ –¥–æ–±–∞–≤–ª—è–π –Ω–∏–∫–∞–∫–∏—Ö —Å–≤–æ–∏—Ö –º—ã—Å–ª–µ–π, –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–Ω–µ —Ç–µ–≥–æ–≤ <title>. –¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Ç–µ–≥–∏ <title> –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö.
[2025-12-25 14:38:04,923] WARNING in server: generate_title: Sending payload to Ollama: {
  "model": "gemma3:12b",
  "messages": [
    {
      "role": "user",
      "content": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥:\n---\nUser: Hello\n---\nAssistant: \n---\nUser: Hello\n---\nUser: Hello\n---\nUser: Hello\n---\nUser: Hello\n---\nUser: Hello\n---\n–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –ø—Ä–∏–¥—É–º–∞—Ç—å –û–ß–ï–ù–¨ –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ—Ç 3 –¥–æ 7 —Å–ª–æ–≤) –¥–ª—è —ç—Ç–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.\n–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–µ–ª—Å—è –¥–∏–∞–ª–æ–≥.\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–º–µ—Å—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –í–ù–£–¢–†–ò —Ç–µ–≥–æ–≤ <title> –∏ </title>.\n–ü—Ä–∏–º–µ—Ä: <title>–ü—Ä–∏–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–¥–µ—Å—å</title>\n–ù–µ –¥–æ–±–∞–≤–ª—è–π –Ω–∏–∫–∞–∫–∏—Ö —Å–≤–æ–∏—Ö –º—ã—Å–ª–µ–π, –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–Ω–µ —Ç–µ–≥–æ–≤ <title>. –¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Ç–µ–≥–∏ <title> –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö."
    }
  ],
  "stream": false,
  "options": {
    "temperature": 0.4
  }
}
2025-12-25 14:38:04,923 - WARNING - generate_title: Sending payload to Ollama: {
  "model": "gemma3:12b",
  "messages": [
    {
      "role": "user",
      "content": "–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∞–ª–æ–≥:\n---\nUser: Hello\n---\nAssistant: \n---\nUser: Hello\n---\nUser: Hello\n---\nUser: Hello\n---\nUser: Hello\n---\nUser: Hello\n---\n–¢–≤–æ—è –∑–∞–¥–∞—á–∞: –ø—Ä–∏–¥—É–º–∞—Ç—å –û–ß–ï–ù–¨ –∫—Ä–∞—Ç–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ—Ç 3 –¥–æ 7 —Å–ª–æ–≤) –¥–ª—è —ç—Ç–æ–≥–æ –¥–∏–∞–ª–æ–≥–∞.\n–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –≤–µ–ª—Å—è –¥–∏–∞–ª–æ–≥.\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–º–µ—Å—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –í–ù–£–¢–†–ò —Ç–µ–≥–æ–≤ <title> –∏ </title>.\n–ü—Ä–∏–º–µ—Ä: <title>–ü—Ä–∏–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∑–¥–µ—Å—å</title>\n–ù–µ –¥–æ–±–∞–≤–ª—è–π –Ω–∏–∫–∞–∫–∏—Ö —Å–≤–æ–∏—Ö –º—ã—Å–ª–µ–π, –æ–±—ä—è—Å–Ω–µ–Ω–∏–π –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤–Ω–µ —Ç–µ–≥–æ–≤ <title>. –¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¢–û–õ–¨–ö–û —Ç–µ–≥–∏ <title> –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤–Ω—É—Ç—Ä–∏ –Ω–∏—Ö."
    }
  ],
  "stream": false,
  "options": {
    "temperature": 0.4
  }
}
[2025-12-25 14:38:04,927] ERROR in server: generate_title: Request to Ollama failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/chat (Caused by NewConnectionError("HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused"))
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 204, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 500, in request
    self.endheaders()
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/http/client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/http/client.py", line 1093, in _send_output
    self.send(msg)
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/http/client.py", line 1037, in send
    self.connect()
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 331, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 219, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/chat (Caused by NewConnectionError("HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/server.py", line 210, in generate_title
    resp = requests.post(f"{OLLAMA_API}/api/chat", json=payload, timeout=60)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/adapters.py", line 677, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/chat (Caused by NewConnectionError("HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused"))
2025-12-25 14:38:04,927 - ERROR - generate_title: Request to Ollama failed: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/chat (Caused by NewConnectionError("HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused"))
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 204, in _new_conn
    sock = connection.create_connection(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/util/connection.py", line 85, in create_connection
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/util/connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    response = self._make_request(
               ^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connectionpool.py", line 493, in _make_request
    conn.request(
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 500, in request
    self.endheaders()
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/http/client.py", line 1333, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/http/client.py", line 1093, in _send_output
    self.send(msg)
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/http/client.py", line 1037, in send
    self.connect()
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 331, in connect
    self.sock = self._new_conn()
                ^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connection.py", line 219, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/adapters.py", line 644, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/urllib3/util/retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/chat (Caused by NewConnectionError("HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused"))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/server.py", line 210, in generate_title
    resp = requests.post(f"{OLLAMA_API}/api/chat", json=payload, timeout=60)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/requests/adapters.py", line 677, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=11434): Max retries exceeded with url: /api/chat (Caused by NewConnectionError("HTTPConnection(host='localhost', port=11434): Failed to establish a new connection: [Errno 111] Connection refused"))
127.0.0.1 - - [25/Dec/2025 14:38:04] "[35m[1mPOST /generate-title HTTP/1.1[0m" 500 -
127.0.0.1 - - [25/Dec/2025 14:38:04] "POST /generate-stream HTTP/1.1" 200 -
